<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Zoo Management System | Items </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"/>

    <!--Tailwind CSS-->
    <link rel="stylesheet" href="/output.css" />
    <link rel="icon" type="image/jpg" href="/img/tiger.jpg" />
</head>
<body class="bg-gradient-to-r from-yellow-200 via-orange-200 to-red-300">
    <div class=" mt-5">
        <h1 class="text-center text-5xl font-bold text-orange-900 mb-4">Zoo Management System</h1>
        
        <h2 class="text-center text-4xl font-bold text-purple-950">(List of Items)</h2>

            <a href="/items/new-item" class="font-bold float-right bg-green-300 hover:bg-green-400 active:bg-green-500 border-double 
            border-gray-900 border-2 px-4 py-3 rounded-full mb-2 mr-2"> Add item </a>
        
        <table class="min-w-full mx-auto border-2 border-black p-2 text-center">
            <thead class="bg-indigo-800">
                <tr class="text-white">
                    <th class="border-2 border-black p-2">#</th>
                    <th class="border-2 border-black p-2">ID</th>
                    <th class="border-2 border-black 2xl:border-black p-2">Name</th>
                    <th class="border-2 border-black 2xl:border-black p-2">Category</th>
                    <th class="border-2 border-black 2xl:border-black p-2">Quantity</th>
                    <th class="border-2 border-black 2xl:border-black p-2">Price</th>
                    <th class="border-2 border-black 2xl:border-black p-2">Description</th>
                    <th class="border-2 border-black 2xl:border-black p-2">Created At</th>
                    <th class="border-2 border-black 2xl:border-black p-2">Actions</th>
                </tr>
            </thead>
            <tbody class="bg-purple-700 text-white">
                <% items.forEach((item, index) => { %>
                    <tr>
                        <td class="border-2 border-black p-3"><%= index + 1 %></td>
                        <td class="border-2 border-black p-3"><%= item._id %></td>
                        <td class="border-2 border-black p-3"><%= item.name %></td>
                        <td class="border-2 border-black p-3"><%= item.category %></td>
                        <td class="border-2 border-black p-3"><%= item.quantity %></td>
                        <td class="border-2 border-black p-3"><%= item.price %></td>
                        <td class="border-2 border-black p-3"><%= item.description %></td>
                        <% const date = new Date(item.createdAt); %>
                        <% const formattedDate = `${date.getMonth() + 1}/${date.getDate()}/${date.getFullYear()}`; %>
                        <td class="border-2 border-black p-3"><%= formattedDate %></td>
                        <td class="border-2 border-black p-3">
                            <a href="/items/<%= item._id %>" class="text-black bg-pink-300 hover:bg-pink-400 active:bg-pink-500 
                                border-double border-gray-900 border-2 p-1 rounded-full mb-2 mr-2 px-3">View</a>
                            <a href="/items/<%= item._id %>/edit" class="text-black bg-orange-300 hover:bg-orange-400 active:bg-orange-500
                                border-double border-gray-900 border-2 p-1 rounded-full mb-2 mr-2 px-3">Update üëÜüèª</a>
                            <a href="/items/<%= item._id %>/delete" class="text-black bg-red-400 hover:bg-red-500 active:bg-red-600
                                border-double border-gray-900 border-2 p-1 rounded-full mb-2 mr-2 px-3">Delete</a>
                        </td>
                    </tr>
                <% }) %>
            </tbody>
        </table>

        <p class="text-center text-2xl font-bold mt-4">Submitted by: Kenzo C. Ragundiaz</p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
